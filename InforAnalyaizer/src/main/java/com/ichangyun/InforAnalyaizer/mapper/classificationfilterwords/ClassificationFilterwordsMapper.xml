<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper
	namespace="com.ichangyun.InforAnalyaizer.mapper.classificationfilterwords.ClassificationFilterwordsMapper">
	<resultMap id="BaseResultMap"
		type="com.ichangyun.InforAnalyaizer.model.classificationfilterwords.ClassificationFilterwords">
		<id column="Classification_ID" property="classificationId"
			jdbcType="CHAR" />
		<result column="InformationTropism"
			property="informationtropism" jdbcType="CHAR" />
		<result column="CreateUser" property="createuser"
			jdbcType="VARCHAR" />
		<result column="CreateDateTime" property="createdatetime"
			jdbcType="TIMESTAMP" />
		<result column="UpdateUser" property="updateuser"
			jdbcType="VARCHAR" />
		<result column="UpdateDateTime" property="updatedatetime"
			jdbcType="TIMESTAMP" />
	</resultMap>
	<resultMap id="ResultMapWithBLOBs"
		type="com.ichangyun.InforAnalyaizer.model.classificationfilterwords.ClassificationFilterwordsWithBLOBs"
		extends="BaseResultMap">
		<result column="AllCorePhrases" property="allcorephrases"
			jdbcType="LONGVARCHAR" />
		<result column="AllExcludePhrases" property="allexcludephrases"
			jdbcType="LONGVARCHAR" />
		<result column="TitleCorePhrases" property="titlecorephrases"
			jdbcType="LONGVARCHAR" />
		<result column="TitleExcludePhrases"
			property="titleexcludephrases" jdbcType="LONGVARCHAR" />
		<result column="SummaryCorePhrases"
			property="summarycorephrases" jdbcType="LONGVARCHAR" />
		<result column="SummaryExcludePhrases"
			property="summaryexcludephrases" jdbcType="LONGVARCHAR" />
		<result column="TextCorePhrases" property="textcorephrases"
			jdbcType="LONGVARCHAR" />
		<result column="TextExcludePhrases"
			property="textexcludephrases" jdbcType="LONGVARCHAR" />
	</resultMap>

	<sql id="Base_Column_List">
		Classification_ID, InformationTropism, CreateUser,
		CreateDateTime, UpdateUser,
		UpdateDateTime
	</sql>
	<sql id="Blob_Column_List">
		AllCorePhrases, AllExcludePhrases, TitleCorePhrases,
		TitleExcludePhrases,
		SummaryCorePhrases,
		SummaryExcludePhrases,
		TextCorePhrases, TextExcludePhrases
	</sql>
	<select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs"
		parameterType="java.lang.String">
		select
		<include refid="Base_Column_List" />
		,
		<include refid="Blob_Column_List" />
		from m_classificationfilterwords
		where Classification_ID =
		#{classificationId,jdbcType=CHAR}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.String">
		delete from
		m_classificationfilterwords
		where Classification_ID =
		#{classificationId,jdbcType=CHAR}
	</delete>
	<insert id="insert"
		parameterType="com.ichangyun.InforAnalyaizer.model.classificationfilterwords.ClassificationFilterwordsWithBLOBs">
		insert into m_classificationfilterwords
		(Classification_ID,
		InformationTropism, CreateUser,
		CreateDateTime,
		UpdateUser, UpdateDateTime,
		AllCorePhrases, AllExcludePhrases,
		TitleCorePhrases, TitleExcludePhrases,
		SummaryCorePhrases,
		SummaryExcludePhrases,
		TextCorePhrases, TextExcludePhrases
		)
		values
		(#{classificationId,jdbcType=CHAR},
		#{informationtropism,jdbcType=CHAR}, #{createuser,jdbcType=VARCHAR},
		#{createdatetime,jdbcType=TIMESTAMP}, #{updateuser,jdbcType=VARCHAR},
		#{updatedatetime,jdbcType=TIMESTAMP},
		#{allcorephrases,jdbcType=LONGVARCHAR},
		#{allexcludephrases,jdbcType=LONGVARCHAR},
		#{titlecorephrases,jdbcType=LONGVARCHAR},
		#{titleexcludephrases,jdbcType=LONGVARCHAR},
		#{summarycorephrases,jdbcType=LONGVARCHAR},
		#{summaryexcludephrases,jdbcType=LONGVARCHAR},
		#{textcorephrases,jdbcType=LONGVARCHAR},
		#{textexcludephrases,jdbcType=LONGVARCHAR}
		)
	</insert>
	<insert id="insertSelective"
		parameterType="com.ichangyun.InforAnalyaizer.model.classificationfilterwords.ClassificationFilterwordsWithBLOBs">
		insert into m_classificationfilterwords
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="classificationId != null">
				Classification_ID,
			</if>
			<if test="informationtropism != null">
				InformationTropism,
			</if>
			<if test="createuser != null">
				CreateUser,
			</if>
			<if test="createdatetime != null">
				CreateDateTime,
			</if>
			<if test="updateuser != null">
				UpdateUser,
			</if>
			<if test="updatedatetime != null">
				UpdateDateTime,
			</if>
			<if test="allcorephrases != null">
				AllCorePhrases,
			</if>
			<if test="allexcludephrases != null">
				AllExcludePhrases,
			</if>
			<if test="titlecorephrases != null">
				TitleCorePhrases,
			</if>
			<if test="titleexcludephrases != null">
				TitleExcludePhrases,
			</if>
			<if test="summarycorephrases != null">
				SummaryCorePhrases,
			</if>
			<if test="summaryexcludephrases != null">
				SummaryExcludePhrases,
			</if>
			<if test="textcorephrases != null">
				TextCorePhrases,
			</if>
			<if test="textexcludephrases != null">
				TextExcludePhrases,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="classificationId != null">
				#{classificationId,jdbcType=CHAR},
			</if>
			<if test="informationtropism != null">
				#{informationtropism,jdbcType=CHAR},
			</if>
			<if test="createuser != null">
				#{createuser,jdbcType=VARCHAR},
			</if>
			<if test="createdatetime != null">
				#{createdatetime,jdbcType=TIMESTAMP},
			</if>
			<if test="updateuser != null">
				#{updateuser,jdbcType=VARCHAR},
			</if>
			<if test="updatedatetime != null">
				#{updatedatetime,jdbcType=TIMESTAMP},
			</if>
			<if test="allcorephrases != null">
				#{allcorephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="allexcludephrases != null">
				#{allexcludephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="titlecorephrases != null">
				#{titlecorephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="titleexcludephrases != null">
				#{titleexcludephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="summarycorephrases != null">
				#{summarycorephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="summaryexcludephrases != null">
				#{summaryexcludephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="textcorephrases != null">
				#{textcorephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="textexcludephrases != null">
				#{textexcludephrases,jdbcType=LONGVARCHAR},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective"
		parameterType="com.ichangyun.InforAnalyaizer.model.classificationfilterwords.ClassificationFilterwordsWithBLOBs">
		update m_classificationfilterwords
		<set>
			<if test="informationtropism != null">
				InformationTropism = #{informationtropism,jdbcType=CHAR},
			</if>
			<if test="createuser != null">
				CreateUser = #{createuser,jdbcType=VARCHAR},
			</if>
			<if test="createdatetime != null">
				CreateDateTime = #{createdatetime,jdbcType=TIMESTAMP},
			</if>
			<if test="updateuser != null">
				UpdateUser = #{updateuser,jdbcType=VARCHAR},
			</if>
			<if test="updatedatetime != null">
				UpdateDateTime = #{updatedatetime,jdbcType=TIMESTAMP},
			</if>
			<if test="allcorephrases != null">
				AllCorePhrases = #{allcorephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="allexcludephrases != null">
				AllExcludePhrases =
				#{allexcludephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="titlecorephrases != null">
				TitleCorePhrases =
				#{titlecorephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="titleexcludephrases != null">
				TitleExcludePhrases =
				#{titleexcludephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="summarycorephrases != null">
				SummaryCorePhrases =
				#{summarycorephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="summaryexcludephrases != null">
				SummaryExcludePhrases =
				#{summaryexcludephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="textcorephrases != null">
				TextCorePhrases =
				#{textcorephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="textexcludephrases != null">
				TextExcludePhrases =
				#{textexcludephrases,jdbcType=LONGVARCHAR},
			</if>
		</set>
		where Classification_ID = #{classificationId,jdbcType=CHAR}
	</update>
	<update id="updateByPrimaryKeyWithBLOBs"
		parameterType="com.ichangyun.InforAnalyaizer.model.classificationfilterwords.ClassificationFilterwordsWithBLOBs">
		update m_classificationfilterwords
		set InformationTropism
		= #{informationtropism,jdbcType=CHAR},
		CreateUser =
		#{createuser,jdbcType=VARCHAR},
		CreateDateTime =
		#{createdatetime,jdbcType=TIMESTAMP},
		UpdateUser =
		#{updateuser,jdbcType=VARCHAR},
		UpdateDateTime =
		#{updatedatetime,jdbcType=TIMESTAMP},
		AllCorePhrases =
		#{allcorephrases,jdbcType=LONGVARCHAR},
		AllExcludePhrases =
		#{allexcludephrases,jdbcType=LONGVARCHAR},
		TitleCorePhrases =
		#{titlecorephrases,jdbcType=LONGVARCHAR},
		TitleExcludePhrases =
		#{titleexcludephrases,jdbcType=LONGVARCHAR},
		SummaryCorePhrases =
		#{summarycorephrases,jdbcType=LONGVARCHAR},
		SummaryExcludePhrases =
		#{summaryexcludephrases,jdbcType=LONGVARCHAR},
		TextCorePhrases =
		#{textcorephrases,jdbcType=LONGVARCHAR},
		TextExcludePhrases =
		#{textexcludephrases,jdbcType=LONGVARCHAR}
		where Classification_ID =
		#{classificationId,jdbcType=CHAR}
	</update>
	<update id="updateByPrimaryKey"
		parameterType="com.ichangyun.InforAnalyaizer.model.classificationfilterwords.ClassificationFilterwords">
		update m_classificationfilterwords
		set InformationTropism
		= #{informationtropism,jdbcType=CHAR},
		CreateUser =
		#{createuser,jdbcType=VARCHAR},
		CreateDateTime =
		#{createdatetime,jdbcType=TIMESTAMP},
		UpdateUser =
		#{updateuser,jdbcType=VARCHAR},
		UpdateDateTime =
		#{updatedatetime,jdbcType=TIMESTAMP}
		where Classification_ID =
		#{classificationId,jdbcType=CHAR}
	</update>
	<select id="selectByFwVo"
		resultType="com.ichangyun.InforAnalyaizer.model.classificationfilterwords.FilterWordsVo"
		parameterType="hashmap">
		select b.Classification_ID classificationId,b.ClassificationName
		classificationName,b.Parent_Classification_ID
		parent_Classification_ID,b.DisplayOrder displayOrder,a.InformationTropism informationtropism,
		a.AllCorePhrases allcorephrases,a.AllExcludePhrases
		allexcludephrases,a.TitleCorePhrases
		titlecorephrases,a.TitleExcludePhrases
		titleexcludephrases,a.SummaryCorePhrases summarycorephrases,
		a.SummaryExcludePhrases summaryexcludephrases,a.TextCorePhrases
		textcorephrases,a.TextExcludePhrases
		textexcludephrases,a.CreateUser
		createuser,a.CreateDateTime createdatetime,
		a.UpdateUser
		updateuser,a.UpdateDateTime updatedatetime FROM
		m_classificationfilterwords a right
		JOIN m_classificationinfo b on
		a.Classification_ID=b.Classification_ID
		<where>
			b.Parent_Classification_ID = "0000000000"
			<if test="classificationName != null">
				and b.ClassificationName LIKE
				CONCAT("%",#{classificationName},"%")
			</if>
		</where>
		order by displayOrder DESC limit #{l_pre},#{rowSize} 
	</select>

	<select id="queryCount" resultType="java.lang.Integer"
		parameterType="hashmap">
		select count(1) from m_classificationinfo
		<where>
		Parent_Classification_ID = "0000000000"
			<if test="classificationName != null">
				and ClassificationName LIKE
				CONCAT("%",#{classificationName},"%")
			</if>
		</where>
	</select>
	<select id="queryOne"
		resultType="com.ichangyun.InforAnalyaizer.model.classificationfilterwords.FilterWordsVo"
		parameterType="String">
		select b.Classification_ID
		classificationId,b.ClassificationName
		classificationName,b.Parent_Classification_ID
		parent_Classification_ID,b.DisplayOrder displayOrder,a.InformationTropism informationtropism,
		a.AllCorePhrases allcorephrases,a.AllExcludePhrases
		allexcludephrases,a.TitleCorePhrases
		titlecorephrases,a.TitleExcludePhrases
		titleexcludephrases,a.SummaryCorePhrases summarycorephrases,
		a.SummaryExcludePhrases summaryexcludephrases,a.TextCorePhrases
		textcorephrases,a.TextExcludePhrases textexcludephrases,a.CreateUser
		createuser,a.CreateDateTime createdatetime, a.UpdateUser
		updateuser,a.UpdateDateTime updatedatetime FROM m_classificationinfo b
		LEFT JOIN m_classificationfilterwords a on
		a.Classification_ID=b.Classification_ID WHERE b.Classification_ID
		=#{value}

	</select>

	<update id="updateFwVo"
		parameterType="com.ichangyun.InforAnalyaizer.model.classificationfilterwords.FilterWordsVo">
		update m_classificationfilterwords
		<set>
			<if test="informationtropism != null">
				InformationTropism = #{informationtropism,jdbcType=CHAR},
			</if>
			<if test="createuser != null">
				CreateUser = #{createuser,jdbcType=VARCHAR},
			</if>
			<if test="createdatetime != null">
				CreateDateTime = #{createdatetime,jdbcType=TIMESTAMP},
			</if>
			<if test="updateuser != null">
				UpdateUser = #{updateuser,jdbcType=VARCHAR},
			</if>
			<if test="updatedatetime != null">
				UpdateDateTime = #{updatedatetime,jdbcType=TIMESTAMP},
			</if>
			<if test="allcorephrases != null">
				AllCorePhrases = #{allcorephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="allexcludephrases != null">
				AllExcludePhrases =
				#{allexcludephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="titlecorephrases != null">
				TitleCorePhrases =
				#{titlecorephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="titleexcludephrases != null">
				TitleExcludePhrases =
				#{titleexcludephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="summarycorephrases != null">
				SummaryCorePhrases =
				#{summarycorephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="summaryexcludephrases != null">
				SummaryExcludePhrases =
				#{summaryexcludephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="textcorephrases != null">
				TextCorePhrases =
				#{textcorephrases,jdbcType=LONGVARCHAR},
			</if>
			<if test="textexcludephrases != null">
				TextExcludePhrases =
				#{textexcludephrases,jdbcType=LONGVARCHAR},
			</if>
		</set>
		where Classification_ID = #{classificationId,jdbcType=CHAR}
	</update>

	<select id="queryParents" resultType="String">
		select Parent_Classification_ID from m_classificationinfo
		<where>
		Parent_Classification_ID != "0000000000"
		</where>
		group by Parent_Classification_ID
	</select>
	
	<select id="queryChild" parameterType="String" resultType="com.ichangyun.InforAnalyaizer.model.classificationfilterwords.FilterWordsVo">
		select b.Classification_ID classificationId,b.ClassificationName
		classificationName,b.Parent_Classification_ID
		parent_Classification_ID,b.DisplayOrder displayOrder,a.InformationTropism informationtropism,
		a.AllCorePhrases allcorephrases,a.AllExcludePhrases
		allexcludephrases,a.TitleCorePhrases
		titlecorephrases,a.TitleExcludePhrases
		titleexcludephrases,a.SummaryCorePhrases summarycorephrases,
		a.SummaryExcludePhrases summaryexcludephrases,a.TextCorePhrases
		textcorephrases,a.TextExcludePhrases
		textexcludephrases,a.CreateUser
		createuser,a.CreateDateTime createdatetime,
		a.UpdateUser
		updateuser,a.UpdateDateTime updatedatetime FROM
		m_classificationfilterwords a right
		JOIN m_classificationinfo b on
		a.Classification_ID=b.Classification_ID
		<where>
			b.Parent_Classification_ID = #{value}
		</where>
		order by displayOrder DESC
	</select>
</mapper>